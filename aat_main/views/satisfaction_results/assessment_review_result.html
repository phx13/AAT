{% extends 'base.html' %}

{% block content %}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <h1>Results of reviews for {{ assessment.name }}</h1>
    {% for statement in results %}
        <h3>{{ statement['statement'] }}</h3>
        {#                reference https://stackoverflow.com/questions/12145434/how-to-output-loop-counter-in-python-jinja-template#}
        {#           22 March #}
        {% set chart_container = 'donutchart' ~ loop.index %}
        {% set chart_title = 'Responses' %}
        {% set response_counts_dict = statement['responses'] %}
        <div id="{{ chart_container }}" style="width: 900px; height: 500px;"></div>

        {#         reference. 22 march. https://stackoverflow.com/questions/2061439/string-concatenation-in-jinja/55192200#55192200#}
        {% include '_pie-chart.html' %}
    {% endfor %}
    <h3>Summary</h3>
    <div id="combo-chart" style="width: 80vw; height: 80vh"></div>


    <h2>Comments</h2>
    {% for comment in comments %}
        <p style="border: black 1px solid">{{ comment }}</p>
    {% endfor %}
{% endblock %}

{% block scripts %}
    {% include '_combo-chart.html' %}
{% endblock %}