{% extends 'base.html' %}

{% block content %}
    <h1>Results of aat reviews</h1>
    {% for statement, mean in results %}
        <h3>{{ statement }}</h3>
        <p>mean: {{ mean }}</p>
{#        reference https://stackoverflow.com/questions/12145434/how-to-output-loop-counter-in-python-jinja-template
           22 March #}
        <div id="donutchart{{ loop.index }}" style="width: 900px; height: 500px;"></div>
    {% endfor %}


    <h2>Comments</h2>
    {% for comment in comments %}
        <p style="border: black 1px solid">{{ comment }}</p>
    {% endfor %}
{% endblock %}

{% block scripts %}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    {% set chart_title = 'Responses' %}
    {% for response_count in response_counts %}
        {# reference. 22 march. https://stackoverflow.com/questions/2061439/string-concatenation-in-jinja/55192200#55192200#}
        {% set chart_container = 'donutchart' ~ loop.index %}
        {% include '_pie-chart-script.html' %}
    {% endfor %}
{% endblock %}