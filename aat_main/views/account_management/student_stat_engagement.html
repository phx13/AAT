<div class="container">
    <div class="row">
        <div class="col-10">
            <p class="display-4">Engagement Of {{ course }}</p>
        </div>
        <div class="col-2">
            <a href="{{ url_for('account_bp.account_page') }}" class="btn btn-primary" style="float: right; margin: 0 auto;">Back</a>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-4">
            <div>
                <p class="lead font-italic">Total Credit</p>
                <p class="display-4 font-italic">{{ current_account.credit }}</p>
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg">
                        <p class="lead">Formative</p>
                        <h3>{{ credit_dic['formative'] }}</h3>
                        <p class="lead">Summative</p>
                        <h3>{{ credit_dic['summative'] }}</h3>
                    </div>
                    <div class="col-sm-12 col-md-12 col-lg">
                        <p class="lead">Feedback</p>
                        <h3>{{ credit_dic['feedback'] }}</h3>
                        <p class="lead">Collection</p>
                        <h3>{{ credit_dic['collection'] }}</h3>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-12 col-lg-8">
            <div id="engagementPieChart" style="width: 100%; height: 400px;"></div>
        </div>
    </div>
    <div class="row">
        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">Category</th>
                <th scope="col">Type</th>
                <th scope="col">Question</th>
                <th scope="col">Time</th>
                <th scope="col"></th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>Python</td>
                <td>Formative</td>
                <td><a class="font-italic" href="#">This is a question</a></td>
                <td>2021-04-01</td>
                <td><a class="btn btn-danger">Cancel collection</a></td>
            </tr>
            <tr>
                <td>Java</td>
                <td>Formative</td>
                <td><a class="font-italic" href="#">This is a question</a></td>
                <td>2021-04-01</td>
                <td><a class="btn btn-danger">Cancel collection</a></td>
            </tr>
            <tr>
                <td>JavaScript</td>
                <td>Formative</td>
                <td><a class="font-italic" href="#">This is a question</a></td>
                <td>2021-04-01</td>
                <td><a class="btn btn-danger">Cancel collection</a></td>
            </tr>
            <tr>
                <td>Html/Css</td>
                <td>Formative</td>
                <td><a class="font-italic" href="#">This is a question</a></td>
                <td>2021-04-01</td>
                <td><a class="btn btn-danger">Cancel collection</a></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<script type="text/javascript" src="/js/import_js/echarts.js"></script>
<script>
    let data = {{ credit_dic|tojson }};
    //engagement pie chart
    let engagementPieChart = echarts.init(document.getElementById("engagementPieChart"));
    let engagementPieChartOption = {
        legend: {
            top: 'top'
        },
        tooltip: {
            trigger: 'item',
            formatter: '{b} : {c} ({d}%)'
        },
        series: [
            {
                type: 'pie',
                radius: [30, 150],
                center: ['50%', '50%'],
                roseType: 'radius',
                label: {
                    show: false
                },
                emphasis: {
                    label: {
                        show: true
                    }
                },
                itemStyle: {
                    borderRadius: 10
                },
                data: [
                    {value: data['login'], name: 'login'},
                    {value: data['formative'], name: 'formative'},
                    {value: data['summative'], name: 'summative'},
                    {value: data['feedback'], name: 'feedback'},
                    {value: data['collection'], name: 'collection'}
                ]
            }
        ]
    };
    engagementPieChart.setOption(engagementPieChartOption);
</script>